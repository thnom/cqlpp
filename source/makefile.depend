.phony=all
.phony=depend

INCLUDES=-I.

include include.make

SOURCES=\
Abstractions\
BigintValue\
BigTest\
BigTest1\
BigTest2\
BigTest3\
BigTest4\
BinaryValue\
BitValue\
BoundColumnBigint\
BoundColumnBool\
BoundColumnChar\
BoundColumnDate\
BoundColumnDecimal\
BoundColumnDouble\
BoundColumnFloat\
BoundColumnInt\
BoundColumnLong\
BoundColumnPCharShort\
BoundColumnPChar\
BoundColumnPUCharShort\
BoundColumnPUChar\
BoundColumnShort\
BoundColumnString\
BoundColumnTime\
BoundColumnTimestamp\
BoundColumnUnsignedChar\
BoundColumnUnsignedInt\
BoundColumnUnsignedLong\
BoundColumnUnsignedShort\
BufferPages\
CharUCValue\
CharValue\
Clibs\
Columns\
CommonMisc\
CqlCommonGlobal\
CqlConfigurationFlex\
CqlConfigurationParse\
CqlFlexScanner\
CqlInstance\
CqlIsamGlobal\
CqlMachine\
CqlMetadata\
CqlSqlBisonParser\
CqlSqlGlobal\
CqlStrings\
Cursor\
DatabaseHandle\
DateValue\
DecimalValue\
Dictionaries\
Elements\
EnvironmentHandle\
ErrorManager\
Expression\
Files\
FloatValue\
ForeignKeys\
FunctionInstructions\
Indices\
Instructions\
IntegerValue\
Interpreter\
IsamMisc\
Library\
Logger\
LongvarbinaryValue\
LongvarcharValue\
MemoryIndex\
MemoryIndices\
MetaTest\
Nodes\
Parser\
Predicates\
RealValue\
Reports\
SegmentedKeys\
SelectExpression\
SmallintValue\
SqlHandle\
SqlMisc\
StatementHandle\
StringLists\
SystemTables\
Tables\
TempBuffer\
TimeValue\
TimestampValue\
TinyintValue\
Transactions\
VarbinaryValue\
VarcharValue\
Views

DEPS := $(foreach name, $(SOURCES), $(name).dep)

HEADER_NAMES=\
AbstractColumnDescriptor\
AbstractColumnDescriptorList\
AbstractDatabaseHandle\
AbstractEnvironmentHandle\
AbstractErrorManager\
AbstractLogger\
AbstractMessage\
AbstractObject\
AbstractPredicateOperand\
AbstractSegmentDescriptor\
AbstractSystemConfigurationManager\
AbstractTable\
AbstractTableSpecification\
AbstractType\
AbstractValue\
AbstractValueConstants\
AbstractValueElement\
Accessor\
BaseBufferPage\
BigTest\
BigintLiteralElement\
BinaryLiteralElement\
BitLiteralElement\
BoundColumn\
BufferManager\
BufferPage\
BufferPageList\
BufferSpaceIndex\
BufferSpaceIndexNode\
CAdvance\
Clib\
ClibConnection\
ClibConnectionManager\
ClibFileManager\
Column\
ColumnDescriptor\
ColumnSpecification\
ColumnSpecificationList\
ColumnTable\
ConcreteColumnDescriptor\
Condition\
Connection\
ConnectionManager\
CqlCommonGlobal\
CqlCommonInclude\
CqlConfigurationParse\
CqlConstants\
CqlDefines\
CqlException\
CqlFixedLengthString\
CqlIsamGlobal\
CqlIsamInclude\
CqlMachine\
CqlMetadata\
CqlOptions\
CqlSqlBisonParser\
CqlSqlClass\
CqlSqlInclude\
CqlSqlOptions\
CqlString\
CqlStringWithPosition\
CqlTableConstants\
Cursor\
DatabaseHandle\
DateLiteralElement\
DeadlockGraphIndex\
DeadlockGraphIndexNode\
DecimalLiteralElement\
DoubleStringList\
DoubleStringListElement\
DynamicParameterElement\
EnvironmentHandle\
ErrorManager\
Expression\
ExpressionColumnList\
ExpressionColumnListElement\
ExpressionConstants\
FILEListElement\
FactoryException\
FileManager\
FileManagerException\
FilenameIndex\
FilenameIndexNode\
FloatLiteralElement\
ForeignKey\
ForeignKeyList\
ForeignKeyNames\
ForwardReference\
FunctionConstants\
FunctionInstructions\
GrantColumn\
GrantPrivilege\
GrantUser\
IdentifierConstants\
Index\
IndexColumnName\
IndexDictionary\
IndexHeader\
IndexIndex\
IndexIndexNode\
IndexKeyDescriptor\
IndexNameListGroup\
IndexSegmentDescriptor\
InsertColumnName\
InstructionConstants\
Instructions\
IntegerLiteralElement\
IsamFile\
IsamFileHeader\
IsamForwardReference\
IsamIndex\
IsamIndexNode\
KeySearchConstants\
List\
ListBase\
ListElement\
LiteralElement\
LockIndex\
LockIndexNode\
LogAnalysisIndex\
LogAnalysisIndexNode\
LogCreateIndex\
LogCreateIndexNode\
LogDeleteIndex\
LogDeleteIndexNode\
LogEntry\
LogPageIndex\
LogPageIndexNode\
LogPositionIndexNode\
LogUndoneIndex\
LogUndoneIndexNode\
Logger\
MainDictionary\
MemoryIndex\
MemoryIndexConstants\
MemoryIndexNode\
MessageIdentifiers\
Node\
NodeElement\
NodeIndex\
NodeIndexNode\
NonterminalPredicateOperand\
NullLiteralElement\
NumericLiteralElement\
OpenFileManager\
OptimizerPredicateList\
OutputBuffer\
PageChainElement\
PageChainList\
Parser\
ParserConstants\
ParserStack\
ParserStackElement\
PermanentColumnSpecification\
Predicate\
PredicateList\
PredicateTypes\
PrivilegeDictionary\
PrivilegeDictionaryRecord\
PrivilegeFieldDictionary\
PrivilegeFieldDictionaryRecord\
QueryExpression\
QueryStackElement\
RealLiteralElement\
Record\
RecordIndex\
RecordIndexNode\
ReferencedColumn\
ReferencedColumnList\
RefersDictionary\
Report\
ReportField\
ReportWindow\
ResultSet\
RowId\
SegmentedKeyGroup\
SegmentedKeyGroupList\
SelectExpression\
SelectExpressionCollectionObject\
SelectExpressionList\
SetComparisonConstants\
SetRow\
SmallintLiteralElement\
SqlEnvironmentHandle\
SqlHandle\
SqlHandleInline\
StackList\
StatementHandle\
StringElement\
StringList\
StringListElement\
StringListGroup\
SubqueryElement\
SubqueryResultSet\
SystemConfigurationManager\
SystemDictionary\
SystemTable\
SystemTableColumns\
SystemTableIndices\
SystemTableTables\
Table\
TableReferenceColumn\
TableReferenceColumnList\
TableSpecification\
TableTable\
TableTableElement\
TablenameIndex\
TablenameIndexNode\
TempBuffer\
TemporaryResultFile\
TerminalPredicateOperand\
TimeLiteralElement\
TimestampLiteralElement\
TinyintLiteralElement\
TransactionManager\
TransactionPageIndex\
TransactionPageIndexNode\
TransactionStack\
TransactionStackElement\
TripleStringList\
TripleStringListElement\
UpdateColumnNameAndExp\
UserConfigurationManager\
UserManager\
UserReportFunction\
ValueExpressionStack\
ValueExpressionStackElement\
VariableSpecification\
View\
ViewSpecification\
VirtualSlot\
WaiteeIndex\
WaiteeIndexNode

HEADERS := $(foreach name, $(HEADER_NAMES), $(name).h)

DEPENDFILE=dependencies

$(DEPENDFILE): $(DEPS)
	cat *.dep > $(DEPENDFILE)

depend: $(DEPENDFILE) $(HEADERS) $(DEPS)

all: depend

CqlSqlBisonParser.o: CqlSqlBisonParser.cpp CqlSqlBisonParser.h
	$(CCNOWARN) -DYYPARSE_PARAM='SqlHandle *dbsql' CqlSqlBisonParser.cpp
